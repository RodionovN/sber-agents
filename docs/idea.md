# Идея проекта: FinConsultant - AI-агент персонального финансового консультанта

## 1. Название проекта

**FinConsultant** (Персональный финансовый консультант)

## 2. Описание проекта

FinConsultant — это интеллектуальный AI-агент, выступающий в роли персонального финансового консультанта. В отличие от простого чат-бота, он не только отвечает на вопросы, но и проводит глубокий анализ финансового состояния пользователя, дает персонализированные рекомендации по управлению бюджетом, оптимизации трат и выбору финансовых продуктов. Агент активно использует данные из внешних источников и поддерживает общение через голосовые и визуальные интерфейсы.

**Зачем это нужно?**

-   Для клиента: получение профессиональной финансовой консультации 24/7, помощь в достижении финансовых целей, прозрачность и контроль над личными финансами.
-   Для банка: повышение финансовой грамотности и лояльности клиентов, кросс-продажа релевантных продуктов (кредитов, инвестиций, страховок) на основе глубокого анализа потребностей.

## 3. Целевая аудитория

-   **Основные пользователи:** Клиенты банка, желающие взять под контроль свои финансы, планировать бюджет, найти способы экономить и приумножать деньги.
-   **Вторичные пользователи:** Менее финансово грамотные клиенты, которым нужен проводник в мире банковских продуктов и управления личным бюджетом.

## 4. Основные функции и возможности

-   **Глубокая финансовая аналитика:**
    -   Автоматическая категоризация трат по данным из транзакций.
    -   Выявление "финансовых привычек" и потенциальных зон для экономии.
    -   Визуализация доходов и расходов (графики, диаграммы).
-   **Персонализированные рекомендации:**
    -   Составление ежемесячного бюджета с учетом целей пользователя.
    -   Советы по оптимизации регулярных платежей (подписки, страховки).
    -   Рекомендации по подбору финансовых продуктов (депозиты, карты с кэшбэком, инвестиционные идеи) на основе профиля риска и поведения пользователя.
-   **Сценарное планирование и симуляции:**
    -   "Что будет, если я отложу N рублей в месяц?" (Калькулятор накоплений).
    -   "Смогу ли я обслуживать ипотеку с такой зарплатой?" (Калькулятор кредитной нагрузки).
-   **Работа с мультимодальными данными:**
    -   **Аудио:** Полноценный голосовой диалог для удобства консультации.
    -   **Изображения:** Анализ фотографий чеков для верификации и дополнения данных о тратах, ручная категоризация покупок, не отраженных в банковской выписке (наличные расчеты).

## 5. Технологии и подходы из курса

| Технология / Подход                      | Применение в проекте FinConsultant                                                                                                                                                                                                                                                                                                                                                                             |
| :--------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Работа с LLM через API**               | Базовое взаимодействие с мощной моделью (например, GPT-4) для ведения диалога, анализа текста и генерации сложных выводов и рекомендаций.                                                                                                                                                                                                                                                                      |
| **Structured Output**                    | Критически важный компонент. Получение от LLM строго структурированных данных для последующей обработки. Например, JSON с полями `{"analysis_type": "spending_trend", "top_category": "Рестораны", "amount": 15000, "trend": "up"}` или `{"user_request": "simulate_loan", "loan_amount": 500000, "duration_months": 60}`.                                                                                     |
| **Мультимодальность**                    | **Голос:** STT (Speech-to-Text) для приема голосовых сообщений и TTS (Text-to-Speech) для озвучивания ответов агента, создавая эффект живого разговора. <br> **Изображения:** Использование Vision-модели для анализа фото чеков. Задача: не просто описать картинку, а извлечь структурированные данные (`{"store": "Пятерочка", "total": 1245.50, "items": ["..."]}`) для интеграции в финансовую аналитику. |
| **RAG (Retrieval-Augmented Generation)** | Создание базы знаний на основе актуальной документации по финансовым продуктам банка, статей о финансовой грамотности, законодательных актов. Это обеспечит точность и актуальность всех рекомендаций агента.                                                                                                                                                                                                  |
| **Агентные паттерны и LangGraph**        | Создание сложного workflow для консультации. Пример сценария в LangGraph: 1) **Анализ:** Запросить историю транзакций через MCP -> проанализировать траты. 2) **Уточнение:** Спросить пользователя о финансовых целях (голос/текст). 3) **Поиск:** Через RAG найти подходящие под цели продукты. 4) **Синтез:** Сгенерировать персонализированный отчет с рекомендациями и симуляциями.                        |
| **MCP (Model Context Protocol)**         | **Ключевая технология для доступа к данным.** Разработка MCP-серверов для безопасного подключения к: <br> 1. **Симулятору банковского API** (получение транзакций, балансов, списка продуктов). <br> 2. **Внешним финансовым данным** (курсы валют, котировки акций, данные о рыночных предложениях других банков для сравнения). <br> 3. **Калькуляторам** (кредитным, депозитным, инвестиционным).           |

## 6. План развития проекта по темам курса

**Этап 1: Базовый LLM + Structured Output (Прототип аналитика)**

-   **Цель:** Научить агента понимать финансовые запросы и возвращать структурированные данные для анализа.
-   **Реализация:** Агент получает на вход текстовый запрос ("Проанализируй мои траты за последний месяц") и CSV-файл с симулированными транзакциями. LLM возвращает структурированный JSON-отчет с анализом по категориям, трендами и выводами.

**Этап 2: Мультимодальность (Включение зрения и голоса)**

-   **Цель:** Добавить каналы взаимодействия и источники данных.
-   **Реализация:**
    -   **Изображения:** Интегрировать Vision-модель. Пользователь загружает фото чека -> агент извлекает данные -> возвращает структурированную информацию о покупке.
    -   **Голос:** Добавить STT/TTS. Пользователь может задать вопрос голосом ("Какая у меня самая большая статья расходов?"), а агент ответит также голосом.

**Этап 3: RAG (Экспертные знания)**

-   **Цель:** Снабдить агента актуальными знаниями о продуктах и финансовых практиках.
-   **Реализация:** Загружаем в векторную БД PDF-тарифы банка, статьи о финансовом планировании. Агент учится отвечать на вопросы вроде "Какой депозит лучше выбрать для накопления на отпуск?", основываясь на этих документах.

**Этап 4: Агентные паттерны (LangGraph) - Интеллектуальный workflow**

-   **Цель:** Превратить набор функций в активного агента, который управляет диалогом и процессом консультации.
-   **Реализация:** Реализуем в LangGraph сценарий "Полная финансовая консультация". Агент сам решает, какие данные запросить (историю трат, цели), когда обратиться к RAG за информацией о продуктах, а когда запустить калькулятор для симуляции. Весь диалог становится целенаправленным.

**Этап 5: MCP (Интеграция с данными и инструментами)**

-   **Цель:** Дать агенту "руки" для работы с реальными (симулированными) данными и системами.
-   **Реализация:**
    -   Разрабатываем простой MCP-сервер, который имитирует банковское API (отдает JSON с транзакциями по запросу).
    -   Подключаем MCP-клиент к нашему агенту в LangGraph.
    -   Агент теперь может самостоятельно, в рамках своего workflow, запрашивать актуальные данные о счетах пользователя, что кардинально повышает качество и персонализацию консультации.
